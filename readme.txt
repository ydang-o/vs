合伙人投票系统功能清单
一、系统基础支撑
平台形态：微信小程序（含后台管理端 + 合伙人投票端）
登录方式：微信绑定后一键登录
二、用户管理模块
用户信息维护：新增 / 编辑 / 删除系统用户，记录用户名（登录用）、姓名、手机号、登录密码、用户状态（正常 / 禁用）、创建时间、最后登录时间、微信绑定信息
微信登录管理：后台可解除用户微信绑定，用户端可自主绑定
密码管理：管理员可重置用户密码；用户登录后可验证原密码修改密码
查询筛选：按用户名、手机号模糊查询，结果分页展示
关联规则：仅 “正常” 状态用户可关联为合伙人；用户信息变更同步更新关联合伙人信息
三、合伙人管理模块
核心操作：
用户关联：从系统用户中选择，一对一映射（一个用户仅一个合伙人身份）
层级配置：下拉选择（总部一级 / 总部二级 / 分部一级 / 分部二级）
出资管理：设置出资比例（精确到小数点后两位，支持修改）
权限控制：新增（选正常状态用户 + 填层级 / 出资比例）、编辑（改层级 / 出资比例，已参与投票的合伙人层级修改实时更新未结束投票权重）、删除（仅未参与任何投票的可删，已参与的仅禁用，禁用后不可参与新投票）
列表展示与筛选：展示用户名、姓名、手机号、合伙人层级、出资比例、用户状态、关联时间；支持按层级、用户状态筛选
四、议案管理模块
议案创建与管理：
基础信息：标题、系统自动生成编号、富文本正文（仅文字 + 图片，无附件）、创建人、创建时间
状态流转：草稿→待发布→已发布→已关联投票（不可修改）→已结束（投票完成）
操作功能：新增、编辑（仅草稿 / 待发布状态）、删除（仅草稿状态）、预览、发布
议案详情页：顶部（标题、编号、状态、发布时间、创建人）、中部（纯文本 + 图片正文，长文本支持滑动）、底部（投票状态如 “剩余 1 小时截止・已投票 35/50 人”、操作按钮如 “参与投票”/“查看结果”/“委托投票”）
五、投票任务模块
投票任务创建：
基础配置：关联 “已发布” 状态议案；设置投票开始时间（默认当前）、截止时间（晚于开始，发布后不可延长）；选择投票方式（匿名 / 实名）、投票策略（人数票 / 出资票 / 两者结合，组合需均通过）
投票人选择：按层级（可多选）、用户状态（正常 / 禁用）筛选，满足条件合伙人自动列表，支持全选 / 手动勾选
发布与通知：发布前预览（投票参数、参与人列表、截止时间）；发布后通过移动端消息通知投票人
投票任务管理：监控投票进度（已投票 / 未投票人数、投票率）、各选项占比（基础数字，无实时刷新）；支持提前结束投票；查看委托记录（投票任务、委托人、被委托人、委托时间、证明材料、处理状态）
六、投票功能模块
移动端投票流程：登录→进入 “待投票” 列表（按截止时间倒序，<24 小时截止标红）→点击任务进入议案详情→底部投票区选选项（同意 / 反对 / 弃权）→提交投票→二次确认→提交成功显示提示
委托投票流程：管理员进入委托管理列表→新增委托记录→选投票任务、委托人、被委托人→上传委托证明文件（照片 / PDF 等）
投票策略计算：
人数票：按层级权重（总部一级 4 票 / 人、总部二级 3 票 / 人、分部一级 2 票 / 人、分部二级 1 票 / 人），结果 =（某选项总票数 ÷ 有效总票数）×100%（有效票 = 同意 + 反对 + 弃权）
出资票：个人权重 = 个人出资比例 ÷ 参与投票人总出资比例，结果 =（某选项总权重 ÷ 有效总权重）×100%
组合策略：分别算两种结果，均达通过阈值（默认 50% 可配置）才算通过，任一未通过则最终未通过
七、结果查询与导出模块
核心功能：查询、展示投票结果；导出 Excel 报告（含投票任务基本信息、投票结果汇总、详细记录：实名含投票人 / 选项 / 时间 / 委托关系，匿名仅汇总）
导出操作：投票结束后管理员在投票任务详情页点击 “导出结果”，文件自动加水印（系统名称 + 导出时间）
八、交互与业务规则
交互规则：投票任务详情页按身份显示按钮（本人投票显示 “本人投票”；仅委托投票显示 “委托投票”；两者皆有显示 “本人投票 + 委托投票”）
关键业务规则：
合伙人资格：系统正常状态用户 + 已在合伙人管理关联配置
投票有效性：逾期未投视为 “未参与” 不计入有效票；委托投票计入有效票及被委托人记录；同一任务用户（含被委托人）仅投一次
权限控制：管理员全模块操作 + 查 / 导出结果；合伙人查个人投票任务 + 参与投票 + 管个人信息
简化原则：最少操作步骤，去除非必要校验和记录